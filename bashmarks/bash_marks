# Core function of program. Sends first two arguments to bm-handler.
# The resulting output determines if the script prints an error message,
# exits quietly, or changes the user's directory.
function bm {
    OUTCOME="$(bm-handler $1 $2)"

    if [ "$OUTCOME{:0:5}" == "ERROR" ]; then
        echo "$OUTCOME"
    elif [ "$OUTCOME{:0:10}" == "TERMINATED" ]; then
        exit
    else
        cd $OUTCOME
    fi
}

# Aliases to make use of this program more familiar. Can be broken down
# into two catagories: short-hand/long-hand and original bashmarks syntax.
# These first aliases are short-hand/long-hand.
alias b="bm"
alias bashmark="bm"
alias bashmarks="bm"
alias bmark="bm"
alias bshmrk="bm"

# These aliases are meant to emulate the original bashmarks syntax.
alias s="bm -n"
alias g="bm"
alias p="bm -p"
alias d="bm -d"
alias l="bm -l"
